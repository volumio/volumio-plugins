pcm.volumioDsp {
  type plug
  slave.pcm "hook"
}

pcm.hook {
  type volumiohook
  slave.pcm "volumiofifo"
  hw_params_command "/data/plugins/audio_interface/fusiondsp/camilladsp -p 9876 -l warn -r %r -f $(echo '%f' | sed 's/_//') -n %c /data/configuration/audio_interface/fusiondsp/camilladsp.yml &"
  hw_free_command "tail --pid `pidof camilladsp` -f /dev/null"
  debug 1
}

pcm.volumiofifo {
  type volumiofifo
  fifo "/tmp/volumiofifo"
  format_3 "S16_LE"
  format_4 "S24_LE"
  format_5 "S32_LE"
}
